<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org"
				xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
				layout:decorate="~{layout}">
	<head>
		    <title>Fiche produit</title>
		    <link rel="stylesheet" href="/css/productSheet.css">
		    <link rel="stylesheet" href="/css/productTypeNavBar.css">
		    
	</head>
	<body>
<div layout:fragment="productTypeNavBar">
			<div id="nav-produit">
				<nav id="list-product-type" class="navbar navbar-expand-md navbar-light bg-light text-center">
					<ul id="wrappedProductType" class="navbar-nav collapse">
						<li class="nav-item active">
							<a class="nav-link" href="/products/all">Tous les produits</a>
						</li>
						<li class="nav-item active" th:each="category : ${categories}">
							<a class="nav-link" th:href="@{'/products/' + ${category.name}}" th:text="${category.name}"></a>
						</li>
					</ul>
					<button id="research-button" class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#wrappedProductType" aria-controls="wrappedProductType" aria-expanded="false" aria-label="Toggle navigation">
						<svg id="research-icon" xmlns="http://www.w3.org/2000/svg" class="bi bi-search">
							<path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
						</svg>
				 	</button>
				</nav>
			</div>
		</div>
		
		<div layout:fragment="content">	
			
			<form th:action="@{/addToCart}" th:object="${commandArticle}" method="post">
				<div id="product-photo" th:each="photo : ${productPhotos}">
					<img th:src="@{'/photos/' + ${photo.path}}" alt="${photo.description}">
				</div>

				<div id="product-main-info">
					<div id= "product-name" th:text="${commandArticle.article.product.name}"></div>
					<div id= "product-price" th:text="${commandArticle.article.product.price}"></div>
				</div>
				
				<div id="product-secondary-info">
					<div id= "product-description" th:text="${commandArticle.article.product.description}"></div>
					<input type="number" th:field="${commandArticle.quantity}">
				</div>
				
				<input type="submit" value="Ajouter au panier" class="btn btn-primary"/>
			</form>
		</div>
	</body>
</html>